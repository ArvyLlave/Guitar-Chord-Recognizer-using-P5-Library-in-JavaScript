<html>

<head>
  <meta charset="UTF-8">

  <title>Pitch Detection</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.sound.min.js"></script>
 <script src="https://unpkg.com/ml5@0.7.1/dist/ml5.min.js" type="text/javascript"></script>
  <script src="path/to/p5.sound.js"></script>
  <script type="text/javascript">
    
   let tracker = 'm';

    //function for start and stop record
    function runButton() {
      
      
      var sound = document.getElementById ('mic');
    
    
    
    if(tracker == 'm'){
        sound.src = 'a.png';
        tracker = 'a';
    }else{
        sound.src="m.png";
        tracker = 'm';
    }
      
      
      
      // the button
       var btn = document.getElementById("btn");
     // the counter
     var counter = document.getElementById("btn-counter");
     // set the counter to 0
     counter =0;
      //while counter=0 then record
      getPitch();
     // increment the counter by 1 everytime the user clicks on the button
      //to stop/pause record - click again button so counter gets 1
       btn.onclick = function(){
         stopPitch();
         
         //click again to resume recording
         btn.onclick = function(){
           resumePitch();
           runButton();
          }
       }
    }
  </script>
</head>

<body class="backgroundlayer">
  <div class="container">
    <div id="indicator"></div>
    <h1>Pitch Detection Example</h1>
  <p id="status"></p>
  <button id="btn" onclick="runButton();"><img src="m.png" id="mic"><span id="btn-counter"></span></button>
    <h2 id="chordname">D</h2>
  <p id="result">No pitch detected</p>
    
  </div>
  
  <script src="sketch.js"></script>
</body>

</html>
